---
import Section from "./sections/Section.astro"
import { work } from "@cv"
---

<Section title ="Experiencia">
    <ul>
        {
            work.map(({ name, modality, startDate, endDate, position, summary, highlights }) => {
                const startYear = new Date(startDate).getFullYear()
                const endYear = endDate != null ? new Date(endDate).getFullYear() : "Actual"
                const years = `${startYear} - ${endYear}`
                return (
                <li>
                    <article>
                        <header>
                            <div class="left-section">
                                <h3>{name}</h3>
                                <span>{modality}</span>
                            </div>
                            <time>{years}</time>
                        </header>
                        <h4>{position}</h4>
                        <footer>
                            <p>{summary}</p>
                        </footer>
                    </article>
                </li>
                )
            })}
    </ul>
</Section>

<style>
ul {
    display: flex;
    flex-direction: column;
    gap: 32px;
}
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.left-section {
    display: flex;
    gap: 8px;
    align-items: center;
}

article h3 {
    font-weight: 500;
    font-size: 1.2rem;
    color: #111;
}

span {
    border-radius: 6px;
    background: #f2f5f6;
    color: #101826;
    font-size: 0.8rem;
    font-weight: 550;
    padding: 0.3rem 0.7rem;
    margin-top: 4px;
}

article h4 {
    font-weight: 400;
    color: #444;
    margin: 5px 0;
}

time {
    color: #666;
    font-size: 0.8rem;
}

footer p {
    color: #333;
    line-height: 1.5;
}
</style>